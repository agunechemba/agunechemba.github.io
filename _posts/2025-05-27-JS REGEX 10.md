# JS REGEX 10: Extracting Specific Data with RegExp and `exec()` in JavaScript

<img src="https://agunechembaekene.wordpress.com/wp-content/uploads/2025/05/a_young_black_boy_sqeezing_a_big.jpeg" style="width: 100%;" alt="Young Black Boy Squeezing a Big Object">

Have you ever needed to pull just the *important bits* out of a wall of text or code?
Imagine you‚Äôre scanning through lines of HTML like this:

```html
<a href="http://goalkicker.com">goalkicker</a>
```

Now, you don‚Äôt want the whole tag ‚Äî just the **useful parts**:

* The **link address** ‚Üí `http://goalkicker.com`
* The **visible text** ‚Üí `goalkicker`

That‚Äôs where **Regular Expressions (RegExp)** and the **`exec()` method** become your best tools.
They let you write patterns that *hunt down* specific text formats, and then *capture* the exact pieces you care about.

Let‚Äôs explore how it works.

---

## üß© 1. What is a Regular Expression?

A **Regular Expression (RegExp)** is a **pattern** that describes a set of possible strings.
You use it to search, extract, or validate text according to certain rules.

Think of it as writing a small ‚Äúsearch formula‚Äù ‚Äî one that says:

> ‚ÄúFind text that looks like *this*.‚Äù

You can use RegExp for tasks like:

* Checking if an email address is valid.
* Extracting URLs or phone numbers.
* Splitting logs into data fields.
* Cleaning text input before saving it.

---

## ü™Ñ 2. Capturing Groups ‚Äî Your Data Nets üé£

Parentheses `( )` in regex aren‚Äôt just for grouping; they **capture** parts of what you matched.
That means:

> Whatever falls inside those parentheses gets saved separately.

It‚Äôs like casting a net in a river ‚Äî you might be searching for *fish*, but you only keep the ones that fall inside your net.

### Example:

```regex
(John) (Doe)
```

If you apply that to the string `"John Doe"`, you get:

* `match[0]` ‚Üí `"John Doe"` (the entire match)
* `match[1]` ‚Üí `"John"`
* `match[2]` ‚Üí `"Doe"`

So parentheses turn your regex into a **data extractor**, not just a matcher.

---

## üß† 3. Introducing `exec()` ‚Äî The Smart Match Finder

JavaScript gives you a special method to work with regex:

```js
RegExp.exec(string)
```

It‚Äôs like a powerful detective.
When you call `exec()`, it searches through your text **once**, and returns a **detailed match report**.

That report (an array) contains:

1. `match[0]`: the full match
2. `match[1], match[2], ...`: the captured groups (from parentheses)
3. some extra info (like where it found the match)

If no match is found, it simply returns `null`.

---

## üß™ 4. Example ‚Äî Extracting an Anchor Tag

Let‚Äôs look at a real-world scenario:

You have this HTML code:

```html
<a href="http://goalkicker.com">goalkicker</a>
```

You want:

* The **URL** inside the `href` attribute
* The **text** between the `<a>` and `</a>` tags

Here‚Äôs how you do it:

```js
const html = '<a href="http://goalkicker.com">goalkicker</a>';
const regex = /<a href="(https?:\/\/[^"]+)">([^<]+)<\/a>/;

const m = regex.exec(html);

console.log(m[0]); // Full match: <a href="http://goalkicker.com">goalkicker</a>
console.log(m[1]); // First capture: http://goalkicker.com
console.log(m[2]); // Second capture: goalkicker
```

### üß© Explanation:

* `https?` ‚Üí matches `http` or `https`
* `:\/\/` ‚Üí matches the literal `://`
* `[^"]+` ‚Üí matches one or more characters that are *not* a quote (`"`)
* `([^<]+)` ‚Üí captures the visible text until it sees `<` (the start of `</a>`)

The parentheses `()` around both patterns make them **capturing groups**,
so `exec()` neatly returns both the URL and the text as separate results.

---

## üîÅ 5. Finding All Matches with `g` (Global Flag)

By default, `exec()` finds just the **first match**.
But what if your HTML has **multiple links**?

You can add the **global flag `g`** to your regex.
Then, each time you call `exec()`, it picks up where it left off ‚Äî giving you the *next* match.

```js
const html = `
  <a href="http://goalkicker.com">goalkicker</a>
  <a href="http://example.com">Example</a>
`;

const regex = /<a href="(https?:\/\/[^"]+)">([^<]+)<\/a>/g;

let match;
while ((match = regex.exec(html)) !== null) {
  console.log("URL:", match[1]);
  console.log("Text:", match[2]);
}
```

This loop keeps calling `exec()` until there are no more matches (`null`).

Result:

```
URL: http://goalkicker.com
Text: goalkicker
URL: http://example.com
Text: Example
```

### üß† Why does this work?

Because when the regex has the `g` flag, JavaScript tracks its **internal pointer** (called `lastIndex`).
Each new `exec()` call starts scanning from that position.
Once the end is reached ‚Äî `exec()` returns `null`.

---

## ‚ö° 6. Common Mistakes (and Fixes)

1. ‚ùå **Forgetting the quotes in your regex**

   ```js
   /<a href=(https?:\/\/[^"]+)>([^<]*)<\/a>/
   ```

   üîß **Fix:**
   Always include the quotes:

   ```js
   /<a href="(https?:\/\/[^"]+)">([^<]*)<\/a>/
   ```

2. ‚ùå **Forgetting the `g` flag**
   Without `g`, `exec()` will *always* return the first match ‚Äî no matter how many exist.

3. ‚ùå **Using greedy `.+` without limits**
   Always use `+?` (lazy quantifier) when matching content that could repeat,
   e.g. `(.+?)` instead of `(.+)`, to stop at the nearest match instead of the farthest.

---

## üß© 7. When `exec()` Returns `null`

When no text in your string matches the pattern, `exec()` returns `null`.
That‚Äôs JavaScript‚Äôs way of saying: *‚ÄúI found nothing that fits your rule.‚Äù*

For example:

```js
/<img src="(.+?)">/.exec("<a href='link'>link</a>")
// ‚Üí null (because there‚Äôs no <img> tag)
```

---

## üß† 8. Summary Table

| Concept                | Explanation                                               |
| ---------------------- | --------------------------------------------------------- |
| `RegExp.exec()`        | Searches the string for a match and returns detailed info |
| Capturing Groups `( )` | Parts of the pattern saved separately                     |
| `match[0]`             | Full matched text                                         |
| `match[1]`, `match[2]` | Values captured by parentheses                            |
| `g` flag               | Enables multiple searches using a loop                    |
| `null`                 | Returned when no match is found                           |

---

## üß™ Practice Tasks

Let‚Äôs solidify what you‚Äôve learned. Try solving these:

1. Extract the `href` and link text from:

   ```html
   <a href="https://site.com">Site</a>
   ```

   Using `exec()`, what does `m[1]` contain?

2. Write a regex to capture the **`src`** and **`alt`** values from:

   ```html
   <img src="logo.png" alt="Company Logo">
   ```

3. Fix this broken regex so it captures both parts correctly:

   ```js
   const regex = /<a href=(https?:\/\/[^"]+)>([^<]*)<\/a>/;
   ```

4. Use a loop with `exec()` (and the `g` flag) to extract **all email addresses** from:

   ```
   "Contact us at info@company.com or support@help.org"
   ```

5. Explain why `exec()` sometimes returns `null`.

---

## üß© Review ‚Äî Fill-Gap Questions

1. Regular expressions are used to ______ patterns within strings.
2. Parentheses `( )` in regex are known as ______ groups.
3. The method used to execute a regex and return match details is ______.
4. The full matched text is always stored in `match[____]`.
5. The captured groups start from index number ______.
6. The global flag `g` allows you to find ______ matches, not just one.
7. The property `lastIndex` in regex helps track the search ______.
8. The result of `exec()` is an ______ containing match info.
9. If no match is found, `exec()` returns the value ______.
10. Using `(.+?)` instead of `(.+)` makes the match ______ (non-greedy).
